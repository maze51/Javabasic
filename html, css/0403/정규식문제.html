<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>정규식 문제</title>
	<style>
		label{
			display : inline-block;
			width : 110px;
			height : 30px;
		}
 		
		fieldset{
			width : 375px;
		}
	</style>
	<script>
		idcheckr = false;
		
		function idcheck(){
			vid = document.ff.id.value;
			idpattern = /^[a-z][a-zA-Z0-9_-]{7,19}$/;
			if(!(idpattern.test(vid))){
				alert("영문 소문자로 시작하는 8~20글자로 입력해주세요");
				idcheckr=false;
				return;
			} else {
				alert("검사 완료");
				idcheckr=true;
				return;
			}
		}
		
		function checkAll(){
			f = document.ff;
			
			vpass1 = f.pass.value;
			vpass2 = f.passc.value;
			vname = f.name.value;
			vgender = f.gender.value;
			vtel = f.phone.value;
			vemail = f.email.value;
			
			if(vpass1!=vpass2){
				alert("입력한 비밀번호가 일치하지 않습니다");
				return;
			}
			
			pwpattern = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*]).{8,20}$/;
			if(!(pwpattern.test(vpass1))){
				alert("비밀번호는 대소문자, 숫자, 특수문자가 하나 이상 포함되도록 입력해주세요");
				return;
			}
			
			namepattern = /^[가-힣]{2,5}$/;
			if(!(namepattern.test(vname))){
				alert("한글 2~5자로 입력해주세요");
				return;
			}
			
			if(vgender==""){
				alert("성별을 선택해주세요");
				return;
			}
			
			telpattern = /^\d{2,3}-\d{4}-\d{4}$/;
			if(!(telpattern.test(vtel))){
				alert("올바른 전화번호를 입력해주세요");
				return;
			}
			
			emailpattern = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+){1,2}$/;
			if(!(emailpattern.test(vemail))){
				alert("올바른 이메일을 입력해주세요");
				return;
			}
			
			if(idcheckr==true){
				alert("입력 완료");
				f.reset();
			} else {
				alert("아이디 검사가 필요합니다");
				return;
			}
		}
	</script>
</head>
<body>
	<form name="ff">
		<fieldset>
			<legend>회원정보입력</legend>
		<label>아이디</label>
		<input type="text" name="id">
		<input type="button" value="id검사" onclick="idcheck()"><br>
		
		<label>패스워드</label>
		<input type="text" name="pass"><br>
		
		<label>패스워드 확인</label>
		<input type="text" name="passc"><br>
		
		<label>이름</label>
		<input type="text" name="name"><br>
		
		<label>성별</label>
		남자<input type="radio" name="gender">
		여자<input type="radio" name="gender"><br>
		
		<label>휴대폰 번호</label>
		<input type="tel" name="phone"><br>
		
		<label>이메일</label>
		<input type="email" name="email"><br>
		
		</fieldset>
		<input type='button' value='제출' onclick="checkAll()">
		<input type="reset" value="초기화"><br>
	</form>
</body>
</html>